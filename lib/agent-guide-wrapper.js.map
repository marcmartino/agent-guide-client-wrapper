{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap f3a184ae1150684c7f58","webpack:///external \"rxjs\"","webpack:///./src/index.js"],"names":["AgentGuide","socket","sock","prototype","resolveIncMessage","dataObj","console","log","evType","getStream","streamQuery","evStreamsArr","map","queryStr","Observable","create","thisAg","expectedType","observer","on","obs","sockMess","jsonObj","JSON","parse","onNext","merge","apply","undefined","sendMessage","mess","send","stringify"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;AChEA,+C;;;;;;;;;;;;;;;ACAA;;;;;;AAEA,SAASA,UAAT,CAAoBC,MAApB,EAA4B;AACxB,SAAKC,IAAL,GAAYD,MAAZ;AACH;;AAEDD,WAAWG,SAAX,CAAqBC,iBAArB,GAAyC,UAAUC,OAAV,EAAmB;AACxD;AACAC,YAAQC,GAAR,CAAY,kCAAkCF,QAAQG,MAAtD;AACF;AACF;AACC,CALD;;AAOAR,WAAWG,SAAX,CAAqBM,SAArB,GAAiC,YAA4B;AAAA;;AAAA,QAAlBC,WAAkB,uEAAJ,EAAI;;AACzD,QAAMC,eAAeD,YAAYE,GAAZ,CAAgB,UAACC,QAAD;AAAA,eACjC,eAAGC,UAAH,CAAcC,MAAd,CAAsB,UAACC,MAAD,EAASC,YAAT;AAAA,mBAA0B,UAACC,QAAD,EAAc;AAC1DF,uBAAOd,IAAP,CAAYiB,EAAZ,CAAe,SAAf,EAA2B,UAACC,GAAD,EAAMH,YAAN;AAAA,2BAAuB,UAACI,QAAD,EAAc;AAC5D,4BAAIC,UAAW,QAAOD,QAAP,yCAAOA,QAAP,OAAoB,QAArB,GAAiCA,QAAjC,GAA4CE,KAAKC,KAAL,CAAWH,QAAX,CAA1D;AACA,4BAAIC,QAAQd,MAAR,KAAmBS,YAAvB,EAAqCG,IAAIK,MAAJ,CAAWH,OAAX;AACxC,qBAH0B;AAAA,iBAAD,CAGvBJ,QAHuB,EAGbD,YAHa,CAA1B;;AAKA;AAEH,aARqB;AAAA,SAAD,QAQZJ,QARY,CAArB,CADiC;AAAA,KAAhB,CAArB;AAUA,WAAO,eAAGC,UAAH,CAAcY,KAAd,CAAoBC,KAApB,CAA0BC,SAA1B,EAAqCjB,YAArC,CAAP;AACH,CAZD;;AAcAX,WAAWG,SAAX,CAAqB0B,WAArB,GAAmC,UAAUC,IAAV,EAAgB;AAC/C,SAAK5B,IAAL,CAAU6B,IAAV,CAAe,QAAOD,IAAP,yCAAOA,IAAP,OAAgB,QAAhB,GACXP,KAAKS,SAAL,CAAeF,IAAf,CADW,GACYA,IAD3B;AAEH,CAHD;;kBAKe9B,U","file":"agent-guide-wrapper.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"rxjs\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine(\"agent-guide-wrapper\", [\"rxjs\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"agent-guide-wrapper\"] = factory(require(\"rxjs\"));\n\telse\n\t\troot[\"agent-guide-wrapper\"] = factory(root[\"rxjs\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_0__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap f3a184ae1150684c7f58","module.exports = __WEBPACK_EXTERNAL_MODULE_0__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"rxjs\"\n// module id = 0\n// module chunks = 0","import Rx from 'rxjs';\n\nfunction AgentGuide(socket) {\n    this.sock = socket;\n}\n\nAgentGuide.prototype.resolveIncMessage = function (dataObj) {\n    //assuming dataObj.evType\n    console.log('AG obj received inc message: ' + dataObj.evType);\n  //  const evType = dataObj.evType;\n//    this.emitter.send(evType, dataObj);\n}\n\nAgentGuide.prototype.getStream = function (streamQuery = []) {\n    const evStreamsArr = streamQuery.map((queryStr) =>\n        Rx.Observable.create(((thisAg, expectedType) => (observer) => {\n            thisAg.sock.on('message', ((obs, expectedType) => (sockMess) => {\n                let jsonObj = (typeof sockMess === 'object') ? sockMess : JSON.parse(sockMess);\n                if (jsonObj.evType === expectedType) obs.onNext(jsonObj);\n            })(observer, expectedType));\n\n            //return unsub() { ... }\n\n        })(this, queryStr)));\n    return Rx.Observable.merge.apply(undefined, evStreamsArr);\n}\n\nAgentGuide.prototype.sendMessage = function (mess) {\n    this.sock.send(typeof mess === 'object' ?\n        JSON.stringify(mess) : mess);\n}\n\nexport default AgentGuide;\n\n\n// WEBPACK FOOTER //\n// ./src/index.js"],"sourceRoot":""}